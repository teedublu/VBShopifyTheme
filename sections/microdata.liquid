
<{% unless section.settings.debug %}
  <script type="application/ld+json">  
{% endunless %}

{% liquid 
  case section.settings.object_type
    when 'audiobook'
      render 'microdata-audiobook-as-audiobook', audiobook: metaobject
    when 'author'
      render 'microdata-author', author: metaobject
    when 'narrator'
      render 'microdata-narrator', narrator: metaobject
  endcase
%}
 

<{% unless section.settings.debug %}
  </script>
{% endunless %}

{% schema %}
{
  "name": "Microdata",
  "class": "schema",
  "tag": "div",
  "disabled_on": {
    "templates": ["password"],
    "groups": ["header", "custom.overlay"]
  },
  "settings": [
    {
      "type": "header",
      "content": "Microdata",
      "info": "Script tag with microdata."
    },
    {
      "type": "checkbox",
      "id": "debug",
      "label": "DEBUG?",
      "info": "Put in textarea not script tag.",
      "default": false
    },
    {
      "type": "select",
      "id": "object_type",
      "label": "Object type",
      "options": [
        {
          "value": "audiobook",
          "label": "Audiobook"
        },
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "author",
          "label": "Author"
        },
        {
          "value": "narrator",
          "label": "Narrator"
        },
        {
          "value": "character",
          "label": "Character"
        },
        {
          "value": "publisher",
          "label": "Publisher"
        },
        {
          "value": "synopsis",
          "label": "Synopsis"
        },
        {
          "value": "audiogramme",
          "label": "Audiogramme"
        }
      ],
      "info": "Choose a metaobject for script",
      "default": "none" 
    }
  ],
  "blocks": [

  ],
  "presets": [
    {
      "name": "Microdata",
      "blocks": [
        
      ]
    }
  ]
}
{% endschema %}